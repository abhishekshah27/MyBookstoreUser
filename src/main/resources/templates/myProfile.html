<html lang="en" xmlns:th="http://www.thymeleaf.org" class="no-js">

<head th:replace="common/header :: common-header"/>

<body>

	<div th:replace="common/header :: navbar"/>

        <!-- Breadcrumbs Area Start -->
        <div class="breadcrumbs-area">
			<div class="container">
				<div class="row">
					<div class="col-md-12">
					    <div class="breadcrumbs">
					       <h2>My Profile</h2> 
					       <ul class="breadcrumbs-list">
						        <li>
						            <a title="Return to Home" th:href="@{/}">Home</a>
						        </li>
						        <li>Profile</li>
						    </ul>
					    </div>
					</div>
				</div>
			</div>
		</div> 
        <!-- Breadcrumbs Area Start --> 
        
	    <hr>
	    <div class="row">
	        <div class="col">
	            <div class="mx-auto w-100 p-3 text-center">
	                <span class="myProfile">Hello <code th:text="${#strings.toUpperCase(user.username)}"></code> </span>
	            </div>
	        </div>
	    </div>
	    <hr>
			
		<div class="row" style="margin-top:50px;width:100%">
			<div class="col-xs-8 col-xs-offset-2">

				<!-- Nav tabs -->
				<ul class="nav nav-tabs">
					<li th:classappend="${classActiveEdit}? 'active'">
						<a href="#tab-1" data-toggle="tab">
							<span style="color: red;">Edit Account</span>
						</a>
					</li>
					<li th:classappend="${classActiveOrders}? 'active'">
						<a href="#tab-2" data-toggle="tab">
							<span style="color: red;">My Orders</span>
						</a>
					</li>
					<li th:classappend="${classActiveBilling}? 'active'">
						<a href="#tab-3" data-toggle="tab">
							<span style="color: red;">Billing</span>
						</a>
					</li>
					<li th:classappend="${classActiveShipping}? 'active'">
						<a href="#tab-4" data-toggle="tab">
							<span style="color: red;">Shipping</span>
						</a>
					</li>
					
				</ul>


				<!-- Tab panels starts-->
				<div class="tab-content">

					<!-- Edit User information pane starts-->
					<div class="tab-pane fade" id="tab-1"
						th:classappend="${classActiveEdit}? 'in active'">
						<div class="panel-group">
							<div class="panel panel-default" style="border: none;">
								<div class="panel-body" style="background-color: #ededed; margin-top: 20px;">

									<div class="alert alert-danger" th:if="${incorrectPassword}">
										<strong>Incorrect Password!</strong> Please enter the correct password for the current user.
									</div>

									<div class="alert alert-succss" th:if="${updateSuccess}">
										<strong>Update Success!</strong>
									</div>

									<form th:action="@{/updateUserInfo}" method="post">
										<input type="hidden" name="id" th:value="${user.id}" />

										<div class="bg-info" th:if="${updateUserInfo}">User info updated.</div>

										<div class="form-group">
											<div class="row">
												<div class="col-xs-6">
													<label for="firstName">First Name</label> 
													<input type="text" class="form-control" id="firstName" name="firstName" th:value="${user.firstName}" />
												</div>
												<div class="col-xs-6">
													<label for="lastName">Last Name</label> 
													<input type="text" class="form-control" id="lastName" name="lastName" th:value="${user.lastName}" />
												</div>
											</div>
										</div>

										<div class="form-group">
											<label for="userName">Username</label>
											<input type="text" class="form-control" id="userName" name="username" th:value="${user.username}" />
										</div>
										
										<div class="form-group">
											<label for="email">* Email Address</label>
											<input type="text" class="form-control" id="email" name="email" th:value="${user.email}" />
										</div> 
										<p style="color: #828282">Enter a valid email address. All emails from the system will be sent in this.</p>
	
										<br>
										
										<div class="form-group">
											<label for="currentPassword">Current Password</label>
											<input type="password" class="form-control" id="currentPassword" name="password" th:value="${currentPassword}" />
										</div>
										<p style="color: #828282">Enter your temporary generated password which has been mailed to you.</p>

										<br>
										
										<div class="form-group">
											<label for="txtNewPassword">New Password</label>&nbsp;
											<span id="checkPasswordMatch" style="color: red;"></span> 
											<input type="password" class="form-control" id="txtNewPassword" name="newPassword" />
										</div>

										<div class="form-group">
											<label for="txtConfirmPassword">Confirm New Password</label>
											<input type="password" class="form-control" id="txtConfirmPassword" />
										</div>
										
										<p style="color: #828282">To change the current password, enter the new password in both fields.</p>

										<button id="updateUserInfoButton" type="submit" class="btn btn-primary">Save</button>
									</form>
								</div>
							</div>
						</div>
					</div>
					<!-- Edit User information pane ends-->


				</div>
				<!-- Tab panels ends-->
			</div>
		</div>

        
        <footer th:replace="common/header :: common-footer"/>

		<div th:replace="common/header::body-bottom-scripts"/>

</body>
</html>